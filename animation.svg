<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="220" viewBox="0 0 700 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Backend animation: server to database">
  <defs>
    <!-- Gradients -->
    <linearGradient id="gServer" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0" stop-color="#0f172a"/>
      <stop offset="1" stop-color="#0b1220"/>
    </linearGradient>
    <linearGradient id="gDB" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0" stop-color="#0ea5a4"/>
      <stop offset="1" stop-color="#036b6a"/>
    </linearGradient>
    <linearGradient id="gPacket1" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0" stop-color="#ffd166"/>
      <stop offset="1" stop-color="#f7b32b"/>
    </linearGradient>
    <linearGradient id="gPacket2" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0" stop-color="#06d6a0"/>
      <stop offset="1" stop-color="#00bfa5"/>
    </linearGradient>
    <linearGradient id="gPacket3" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0" stop-color="#4cc9f0"/>
      <stop offset="1" stop-color="#0096c7"/>
    </linearGradient>

    <!-- Blur filter for packets -->
    <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feBlend in="SourceGraphic" in2="blur"/>
    </filter>
  </defs>

  <title>Backend flow: server → packets → database</title>

  <!-- Server stack -->
  <g transform="translate(40,40)">
    <rect x="0" y="0" width="120" height="140" rx="10" fill="url(#gServer)" filter="url(#soft)"/>
    <rect x="10" y="10" width="100" height="30" rx="6" fill="#152238"/>
    <rect x="10" y="50" width="100" height="30" rx="6" fill="#11304a"/>
    <rect x="10" y="90" width="100" height="30" rx="6" fill="#0b2436"/>
    <!-- Glow effect -->
    <rect x="10" y="10" width="100" height="30" rx="6" fill="none" stroke="#38bdf8" stroke-width="2">
      <animate attributeName="stroke-opacity" values="0.2;0.8;0.2" dur="2s" repeatCount="indefinite"/>
    </rect>
    <text x="60" y="165" font-family="Segoe UI, Roboto, Arial" font-size="12" fill="#9fb3d6" text-anchor="middle">Server</text>
  </g>

  <!-- Packets path -->
  <g id="packets" filter="url(#soft)">
    <circle r="10" cx="200" cy="70" fill="url(#gPacket1)" opacity="0.95">
      <animate attributeName="cx" from="200" to="460" dur="2.2s" repeatCount="indefinite" />
      <animate attributeName="opacity" values="0;1;1;0" dur="2.2s" repeatCount="indefinite" />
    </circle>

    <circle r="8" cx="180" cy="110" fill="url(#gPacket2)" opacity="0.9">
      <animate attributeName="cx" from="180" to="480" dur="2.6s" begin="0.4s" repeatCount="indefinite" />
      <animate attributeName="cy" values="110;90;110" dur="2.6s" begin="0.4s" repeatCount="indefinite" />
    </circle>

    <circle r="6" cx="160" cy="150" fill="url(#gPacket3)" opacity="0.85">
      <animate attributeName="cx" from="160" to="500" dur="3.0s" begin="0.9s" repeatCount="indefinite" />
      <animate attributeName="opacity" values="0;0.9;0.9;0" dur="3.0s" begin="0.9s" repeatCount="indefinite" />
    </circle>

    <path d="M160 70 C 260 40, 420 40, 520 80" fill="none" stroke="#334155" stroke-width="1.5" stroke-dasharray="6 6" opacity="0.6"/>
    <path d="M160 150 C 260 170, 420 170, 520 130" fill="none" stroke="#334155" stroke-width="1.2" stroke-dasharray="4 6" opacity="0.45"/>
  </g>

  <!-- Database cylinder -->
  <g transform="translate(520,50)">
    <ellipse cx="60" cy="0" rx="60" ry="18" fill="url(#gDB)" />
    <rect x="0" y="-18" width="120" height="80" rx="2" fill="#064e4d"/>
    <ellipse cx="60" cy="62" rx="60" ry="18" fill="#034b4a"/>
    <!-- Pulsating top -->
    <ellipse cx="60" cy="0" rx="48" ry="12" fill="#16a34a" opacity="0.08">
      <animate attributeName="opacity" values="0.08;0.25;0.08" dur="1.8s" repeatCount="indefinite"/>
      <animate attributeName="rx" values="48;55;48" dur="1.8s" repeatCount="indefinite"/>
      <animate attributeName="ry" values="12;18;12" dur="1.8s" repeatCount="indefinite"/>
    </ellipse>
    <text x="60" y="85" font-family="Segoe UI, Roboto, Arial" font-size="12" fill="#bfece7" text-anchor="middle">Database</text>
  </g>

  <!-- Animated labels -->
  <text x="100" y="30" font-family="Segoe UI, Roboto, Arial" font-size="12" fill="#9fb3d6">
    <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>API
  </text>
  <text x="360" y="30" font-family="Segoe UI, Roboto, Arial" font-size="12" fill="#9fb3d6" text-anchor="middle">
    <animate attributeName="opacity" values="0.5;1;0.5" dur="2.5s" repeatCount="indefinite"/>Network / Queue
  </text>

  <!-- subtle background -->
  <rect x="8" y="8" width="684" height="204" rx="12" fill="none" stroke="#0f172a" opacity="0.06"/>
</svg>
